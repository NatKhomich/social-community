"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[486],{5915:function(e,o,i){i.d(o,{F:function(){return d}});var t=i(1413),s=i(5705),a=(i(2791),"TextForm_form__FSNI1"),r="TextForm_textarea__weHbY",n="TextForm_buttonBlock__GjfIg",l="TextForm_button__omJa3",c=i(184),d=function(e){var o=(0,s.TA)({initialValues:{text:""},onSubmit:function(i){e.callback(i),o.resetForm()}});return(0,c.jsxs)("form",{className:a,onSubmit:o.handleSubmit,children:[(0,c.jsx)("textarea",(0,t.Z)({className:r},o.getFieldProps("text"))),(0,c.jsx)("div",{className:n,children:(0,c.jsx)("button",{className:l,children:e.name})})]})}},459:function(e,o,i){i.d(o,{D:function(){return d}});var t=i(1413),s=i(3366);i(2791);var a=i(9271),r=i(364),n=i(184),l=["isLoggedIn"],c=function(e){return{isLoggedIn:e.auth.isLoggedIn}};function d(e){return(0,r.$j)(c)((function(o){var i=o.isLoggedIn,r=function(e,o){if(null==e)return{};var i,t,a=(0,s.Z)(e,o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)i=r[t],o.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(o,l);return i?(0,n.jsx)(e,(0,t.Z)({},r)):(0,n.jsx)(a.l_,{to:"/login"})}))}},4486:function(e,o,i){i.r(o),i.d(o,{default:function(){return Le}});var t=i(5671),s=i(3144),a=i(136),r=i(5716),n=i(2791),l="ProfileInfo_root__KwI-o",c="ProfileInfo_profilePhoto__ZnEjR",d="ProfileInfo_profileContent__ZVrg4",u="ProfileInfo_profileAvatar__5fgKl",f="ProfileInfo_userAvatar__umaJI",m="ProfileInfo_fileInput__Dy6kf",v="ProfileInfo_fileInputLabel__dg8Wf",_="ProfileInfo_fileInputIcon__Riq9P",p="ProfileInfo_profileInfo__3qP19",h="ProfileInfo_fullName__aoWXA",b="ProfileInfo_aboutMe__YFQd8",x="ProfileInfo_userStatus__nBeNM",j=i(3168),g=i(885),P=i(1647),N=i(184),k=function(e){var o=(0,n.useState)(!1),i=(0,g.Z)(o,2),t=i[0],s=i[1],a=(0,n.useState)(e.status),r=(0,g.Z)(a,2),l=r[0],c=r[1];return t?(0,N.jsx)(P.Z,{value:l,onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(l)}}):(0,N.jsx)("span",{onDoubleClick:function(){e.isOwner&&(s(!0),c(e.status))},children:e.status})},F=i(5917);var A=i.p+"static/media/icon-edit.1eeae1f4fdc99797976b21afb2d76001.svg",I=n.memo((function(e){var o=e.profile,i=e.updateStatus,t=e.status,s=e.isOwner,a=e.savePhoto;return(0,N.jsxs)("div",{className:l,children:[(0,N.jsx)("div",{children:(0,N.jsx)("img",{className:c,src:F,alt:"profile-cover"})}),(0,N.jsxs)("div",{className:d,children:[(0,N.jsxs)("div",{className:u,children:[(0,N.jsx)("img",{className:f,src:(null===o||void 0===o?void 0:o.photos.large)||j,alt:"profile-avatar-8"}),s&&(0,N.jsxs)("label",{htmlFor:"mainPhotoInput",className:v,children:[(0,N.jsx)("input",{id:"mainPhotoInput",type:"file",onChange:function(e){e.target.files&&a(e.target.files[0])},className:m}),(0,N.jsx)("img",{className:_,src:A,alt:"edit-icon"})]}),s&&(0,N.jsx)("div",{className:x})]}),(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("h1",{className:h,children:null===o||void 0===o?void 0:o.fullName}),(0,N.jsx)("p",{className:b,children:null===o||void 0===o?void 0:o.aboutMe}),(0,N.jsx)(k,{status:t,updateStatus:i,isOwner:e.isOwner})]})]})]})})),w={root:"Profile_root__3Mfh1",content:"Profile_content__9g2E0",posts:"Profile_posts__35MU-",items:"Profile_items__jY8xV",imgAndTextarea:"Profile_imgAndTextarea__2qw8q",postForm:"Profile_postForm__g6Duj",avatar:"Profile_avatar__MKJ1g"},y="ProfileData_root__q2uJG",D="ProfileData_items__M0HoW",S="ProfileData_item__3IG8U",Z="ProfileData_iconBlock__82uyn",O="ProfileData_iconImage__KYNXN",M="ProfileData_info__FADt7",J="ProfileData_editButton__6qnx8",C="ProfileData_contacts__sZach",q="ProfileData_contact__QrbFm";var T=i.p+"static/media/icon-heart.0ff3ff3b96a0e4a29e27036adcbe62c5.svg";var L=i.p+"static/media/icon-looking.29f10c7226c3270e77a6a3bca00335be.svg";var B=i.p+"static/media/icon-skills.0b5d14bae1373d7f21231949796e6502.svg";var G=i.p+"static/media/icon-contacts.1dcef3e2df532973cc148e256d68b67b.svg";var E=i.p+"static/media/icon-facebook.7563b79c888e2539cfd4f821b5510010.svg";var Y=i.p+"static/media/icon-globe.5d5f8e2189d69e6f12886d7818b24c78.svg";var z=i.p+"static/media/icon-twitter.d9bcf9229cd0c3fa592b18e095b17d8e.svg";var H=i.p+"static/media/icon-instagram.c1a46f0ec5c2080bfbd8a03555a331ed.svg";var K=i.p+"static/media/icon-youtube.6f04013ce6b2552ba3fdd77da1fde7fa.svg";var U=i.p+"static/media/icon-github.995cd458f210ec45d1f55a2242a4ea3c.svg";var V=i.p+"static/media/icon-vk.63d486febab3638ea146e8458abc9e08.svg";var Q=i.p+"static/media/icon-mainLink.ee97887f4a161a024eedb6aa9fdefdfe.svg",W="ProfileContact_root__kZl35",R="ProfileContact_iconBlock__M9efG",X="ProfileContact_iconImage__y4LLL",$="ProfileContact_link__AOmaO",ee=function(e){var o=e.contactValue,i=e.icon,t=e.title;return(0,N.jsxs)("li",{className:W,children:[i&&(0,N.jsx)("div",{className:R,children:(0,N.jsx)("a",{href:o||"#",target:"_blank",children:(0,N.jsx)("img",{className:X,src:i,alt:"".concat(t,"-icon")})})}),(0,N.jsx)("p",{children:(0,N.jsx)("a",{className:$,href:o||"#",target:"_blank",children:o})})]})},oe=function(e){var o={aboutMe:T,lookingForAJob:L,lookingForAJobDescription:B,contacts:G,facebook:E,website:Y,vk:V,twitter:z,instagram:H,youtube:K,github:U,mainLink:Q},i=e.profile,t=e.activateEditMode,s=e.isOwner;return(0,N.jsxs)("div",{className:y,children:[(0,N.jsxs)("ul",{className:D,children:[(0,N.jsxs)("li",{className:S,children:[(0,N.jsx)("div",{className:Z,children:(0,N.jsx)("img",{className:O,src:o.aboutMe,alt:"aboutMe-icon"})}),(0,N.jsx)("div",{children:"About me:"}),(0,N.jsx)("div",{className:M,children:null===i||void 0===i?void 0:i.aboutMe})]}),(0,N.jsxs)("li",{className:S,children:[(0,N.jsx)("div",{className:Z,children:(0,N.jsx)("img",{className:O,src:o.lookingForAJob,alt:"lookingForAJob-icon"})}),(0,N.jsx)("div",{children:"Looking for a job:"}),(0,N.jsx)("div",{className:M,children:null!==i&&void 0!==i&&i.lookingForAJob?"Yes":"No"})]}),(null===i||void 0===i?void 0:i.lookingForAJob)&&(0,N.jsxs)("li",{className:S,children:[(0,N.jsx)("div",{className:Z,children:(0,N.jsx)("img",{className:O,src:o.lookingForAJobDescription,alt:"lookingForAJobDescription-icon"})}),(0,N.jsx)("div",{children:"Skills:"}),(0,N.jsx)("div",{className:M,children:null===i||void 0===i?void 0:i.lookingForAJobDescription})]}),(null===i||void 0===i?void 0:i.contacts)&&(0,N.jsxs)("li",{className:C,children:[(0,N.jsxs)("div",{className:S,children:[(0,N.jsx)("div",{className:Z,children:(0,N.jsx)("img",{className:O,src:o.contacts,alt:"contacts-icon"})}),(0,N.jsxs)("div",{children:["Contacts:",Object.values(i.contacts).every((function(e){return!e}))&&(0,N.jsx)("b",{children:" No contacts"})]})]}),(0,N.jsx)("div",{children:(0,N.jsx)("ul",{className:q,children:Object.entries(i.contacts).map((function(e){var i=(0,g.Z)(e,2),t=i[0],s=i[1];return s&&(0,N.jsx)(ee,{title:t,contactValue:s,icon:o[t]},t)}))})})]})]}),s&&(0,N.jsx)("button",{className:J,onClick:function(){t()},children:" Edit "})]})},ie={root:"About_root__GLPfz"},te=i(1413),se=i(5705),ae={root:"ProfileDataForm_root__qAQxj",formContainer:"ProfileDataForm_formContainer__H+yvq",formItems:"ProfileDataForm_formItems__Bwwek",item:"ProfileDataForm_item__xGQ4r",iconBlock:"ProfileDataForm_iconBlock__lYyvX",iconImage:"ProfileDataForm_iconImage__-pj9m",info:"ProfileDataForm_info__7dFyI",contacts:"ProfileDataForm_contacts__1+YKs",saveButton:"ProfileDataForm_saveButton__SWzKC"},re=i(9174),ne=function(e){var o=e.profile,i=e.callback,t=(0,se.TA)({initialValues:{aboutMe:null===o||void 0===o?void 0:o.aboutMe,fullName:null===o||void 0===o?void 0:o.fullName,lookingForAJob:!1,lookingForAJobDescription:null===o||void 0===o?void 0:o.lookingForAJobDescription,contacts:{facebook:null===o||void 0===o?void 0:o.contacts.facebook,website:null===o||void 0===o?void 0:o.contacts.website,vk:null===o||void 0===o?void 0:o.contacts.vk,twitter:null===o||void 0===o?void 0:o.contacts.twitter,instagram:null===o||void 0===o?void 0:o.contacts.instagram,youtube:null===o||void 0===o?void 0:o.contacts.youtube,github:null===o||void 0===o?void 0:o.contacts.github,mainLink:null===o||void 0===o?void 0:o.contacts.mainLink}},validate:function(e){var o={};e.fullName||(o.fullName="Full name is required"),e.lookingForAJobDescription||(o.lookingForAJobDescription="Professional skills are required"),e||(o.aboutMe="About me are required");var i={},t=e.contacts||{};return t.facebook||(i.facebook="The field is required"),t.website||(i.website="The field is required"),t.vk||(i.vk="The field is required"),t.twitter||(i.twitter="The field is required"),t.instagram||(i.instagram="The field is required"),t.youtube||(i.youtube="The field is required"),t.github||(i.github="The field is required"),t.mainLink||(i.mainLink="The field is required"),Object.keys(i).length>0&&(o.contacts=i),o},onSubmit:function(e,o){var s=o.setSubmitting,a=t.validateForm(e);0===Object.keys(a).length&&i(e),s(!1)}});return(0,N.jsx)("form",{className:ae.formContainer,onSubmit:t.handleSubmit,children:(0,N.jsx)("div",{className:ae.root,children:(0,N.jsxs)("div",{className:ae.formItems,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"Full name"}),": ",null===o||void 0===o?void 0:o.fullName,(0,N.jsx)(P.Z,(0,te.Z)({placeholder:"Full name",size:"small",style:{width:"100%"}},t.getFieldProps("fullName"))),t.touched.fullName&&t.errors.fullName?(0,N.jsxs)("div",{style:{color:"red"},children:[" ",t.errors.fullName," "]}):null]}),(0,N.jsxs)("div",{className:ae.checkboxContainer,children:[(0,N.jsx)("div",{children:(0,N.jsx)("b",{children:"Looking for a job"})}),(0,N.jsx)(re.Z,(0,te.Z)({},t.getFieldProps("lookingForAJob")))]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"My professional skills"}),": ",null===o||void 0===o?void 0:o.lookingForAJobDescription,(0,N.jsx)(P.Z,(0,te.Z)({size:"small",style:{width:"100%"}},t.getFieldProps("lookingForAJobDescription"))),t.touched.lookingForAJobDescription&&t.errors.lookingForAJobDescription?(0,N.jsxs)("div",{style:{color:"red"},children:[" ",t.errors.lookingForAJobDescription," "]}):null]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"About me"}),": ",null===o||void 0===o?void 0:o.aboutMe,(0,N.jsx)(P.Z,(0,te.Z)({size:"small",style:{width:"100%"}},t.getFieldProps("aboutMe"))),t.touched.aboutMe&&t.errors.aboutMe?(0,N.jsxs)("div",{style:{color:"red"},children:[" ",t.errors.aboutMe," "]}):null]}),(null===o||void 0===o?void 0:o.contacts)&&(0,N.jsx)("div",{className:ae.contacts,children:Object.entries(o.contacts).map((function(e){var o,i,s=(0,g.Z)(e,1)[0];return(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:s}),":",(0,N.jsx)(P.Z,(0,te.Z)({style:{width:"100%"},size:"small"},t.getFieldProps("contacts.".concat(s)))),(null===(o=t.touched.contacts)||void 0===o?void 0:o[s])&&(null===(i=t.errors.contacts)||void 0===i?void 0:i[s])&&(0,N.jsx)("div",{style:{color:"red"},children:t.errors.contacts[s]})]},s)}))}),(0,N.jsx)("div",{className:ae.buttonBlock,children:(0,N.jsx)("button",{type:"submit",className:ae.saveButton,children:" Save"})})]})})})},le=function(e){var o=e.profile,i=e.updateProfile,t=e.isOwner,s=(0,n.useState)(!1),a=(0,g.Z)(s,2),r=a[0],l=a[1];return(0,N.jsxs)("div",{className:ie.root,children:[(0,N.jsx)("h4",{className:ie.sidebar__title,children:" About "}),r?(0,N.jsx)(ne,{callback:function(e){i(e).then((function(){l(!1)}))},profile:o}):(0,N.jsx)(oe,{profile:o,activateEditMode:function(){l(!0)},isOwner:t})]})},ce="Sidebar_root__GMHtl",de=function(e){var o=e.isOwner,i=e.updateProfile,t=e.profile;return(0,N.jsx)("div",{className:ce,children:(0,N.jsx)(le,{profile:t,updateProfile:i,isOwner:o})})},ue="PostHeader_root__Pz7rw",fe="AvatarAndFullName_user__iPnSk",me="AvatarAndFullName_image__uPg7T",ve="AvatarAndFullName_fullName__+4IRt",_e="AvatarAndFullName_img__T-H82",pe=function(e){var o,i,t;return(0,N.jsxs)("div",{className:fe,children:[(0,N.jsx)("div",{className:me,children:null!==(o=e.profile)&&void 0!==o&&o.photos.large?(0,N.jsx)("img",{className:_e,src:null===(i=e.profile)||void 0===i?void 0:i.photos.large,alt:""}):(0,N.jsx)("img",{className:_e,src:j,alt:""})}),(0,N.jsx)("span",{className:ve,children:null===(t=e.profile)||void 0===t?void 0:t.fullName})]})},he=function(e){return(0,N.jsx)("div",{className:ue,children:(0,N.jsx)(pe,{profile:e.profile})})},be=i(5915),xe={items:"Posts_items__ASi1A",postForm:"Posts_postForm__23alS",textareaAndButton:"Posts_textareaAndButton__0Q-a9"},je="Post_root__WbNH1",ge="Post_text__ow5F9",Pe="Post_likes__FTBAp",Ne="Post_likesCount__i4YLh",ke="Post_likesIcon__uEZdq",Fe=i(2622),Ae=n.memo((function(e){var o=e.message,i=e.profile,t=e.likesCount;return(0,N.jsxs)("div",{className:je,children:[(0,N.jsx)(he,{profile:i}),(0,N.jsx)("div",{className:ge,children:o}),(0,N.jsxs)("div",{className:Pe,children:[(0,N.jsx)("img",{className:ke,src:Fe,alt:"icon-likes"}),(0,N.jsx)("span",{className:Ne,children:t})]})]})})),Ie=n.memo((function(e){var o=e.profile,i=e.posts.map((function(e){return(0,N.jsx)(Ae,{message:e.message,likesCount:e.likesCount,id:e.id,profile:o},e.id)}));return(0,N.jsx)("div",{className:xe.posts,children:i})})),we=n.memo((function(e){var o=e.profile,i=e.updateProfile,t=e.updateStatus,s=e.status,a=e.isOwner,r=e.savePhoto;return(0,N.jsx)("div",{className:w.root,children:(0,N.jsxs)("div",{className:w.content,children:[(0,N.jsx)(I,{profile:o,savePhoto:r,isOwner:a,status:s,updateStatus:t}),(0,N.jsxs)("div",{className:w.items,children:[(0,N.jsxs)("div",{className:w.posts,children:[(0,N.jsx)("div",{className:w.postForm,children:(0,N.jsxs)("div",{className:w.textareaAndButton,children:[(0,N.jsx)(he,{profile:e.profile}),(0,N.jsx)(be.F,{callback:function(o){""!==o.text&&e.addPost(o.text)},name:"Add post"})]})}),(0,N.jsx)(Ie,{profile:o,posts:e.posts})]}),(0,N.jsx)(de,{profile:o,updateProfile:i,isOwner:a})]})]})})})),ye=i(364),De=i(702),Se=i(9271),Ze=i(459),Oe=i(7781),Me=i(2447),Je=function(e){return e.profile.profile},Ce=function(e){return e.profile.status},qe=function(e){return e.profile.posts},Te=function(e){(0,a.Z)(i,e);var o=(0,r.Z)(i);function i(){return(0,t.Z)(this,i),o.apply(this,arguments)}return(0,s.Z)(i,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.setUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,o,i){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,N.jsx)(we,{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,updateProfile:this.props.updateProfile,savePhoto:this.props.savePhoto,addPost:this.props.addPost,posts:this.props.posts})}}]),i}(n.PureComponent),Le=(0,Oe.qC)((0,ye.$j)((function(e){return{profile:Je(e),status:Ce(e),userId:(0,Me.ZM)(e),posts:qe(e)}}),{setUserProfile:De.bq,getStatus:De.GP,updateStatus:De.OG,updateProfile:De.UA,savePhoto:De.Tw,addPost:De.Pi}),Se.EN,Ze.D)(Te)},2622:function(e,o,i){e.exports=i.p+"static/media/like_icon.1a0d811585cb6abc1ae0.png"},5917:function(e,o,i){e.exports=i.p+"static/media/profile-photo.4100939f8ee4c2ba23d2.jpg"},3168:function(e,o,i){e.exports=i.p+"static/media/userAvatar.8e7ab55da0bc52271ed8.jpg"}}]);
//# sourceMappingURL=486.64bae8f9.chunk.js.map