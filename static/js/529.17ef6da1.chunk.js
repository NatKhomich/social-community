"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[529],{5529:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var o=r(5671),t=r(3144),s=r(136),i=r(5716),l=r(364),a=r(1695),u=r(2791),c=r(7781),p=r(8060),f="Users_wrapper__8sGbS",m="Users_root__938dU",d="Users_container__JiVJ3",h="Users_usersHeader__Mmdr7",g="Users_title__V+0te",_="Users_users__jnina",w=r(885),x="Pagination_pagination__nMcPG",U="Pagination_pageNumber__MFeL5",C="Pagination_selectedPage__EKPRV",P="Pagination_button__KyTh9",j=r(184),S=function(e){for(var n=e.setCurrentPage,r=e.totalItemsCount,o=e.pageSize,t=e.portionSize,s=e.currentPage,i=(0,u.useState)(Math.ceil(s/(t||10))),l=(0,w.Z)(i,2),a=l[0],c=l[1],p=Math.ceil(r/o),f=[],m=1;m<=p;m++)f.push(m);var d=Math.ceil(p/t),h=(a-1)*t+1,g=a*t;return(0,j.jsxs)("div",{className:x,children:[a>1&&(0,j.jsx)("button",{className:P,onClick:function(){return c(a-1)},children:"PREV"}),f.filter((function(e){return e>=h&&e<=g})).map((function(e){return(0,j.jsx)("span",{className:s===e?C:U,onClick:function(){return n(e)},children:e},e)})),d>a&&(0,j.jsx)("button",{className:P,onClick:function(){return c(a+1)},children:"NEXT"})]})},v=r(7049),b=r(1523),F=r(3168),N=function(e){var n=e.user,r=e.followingProgress,o=e.onClickFollow,t=e.onClickUnfollow,s=r.some((function(e){return e===n.id}));return(0,j.jsx)("div",{className:v.Z.container,children:(0,j.jsxs)("div",{className:v.Z.root,children:[(0,j.jsx)(b.OL,{to:"/profile/".concat(n.id),children:(0,j.jsx)("img",{className:v.Z.userPhoto,src:n.photos.small?n.photos.small:F,alt:"user-image"})}),(0,j.jsx)("div",{className:v.Z.name,children:n.name}),(0,j.jsx)("div",{className:v.Z.status,children:n.status?n.status:"No status"}),n.followed?(0,j.jsx)("button",{className:v.Z.buttonUnfollow,disabled:s,onClick:function(){var e;e=n.id,t(e)},children:"Unfollowing"}):(0,j.jsx)("button",{className:v.Z.buttonFollow,disabled:s,onClick:function(){var e;e=n.id,o(e)},children:"Following"})]})})},k=r(1413),y=r(4294),Z=r(1647),z=r(5705),T="UserSearchForm_buttonForm__03y1+",M=function(e){var n=e.onSearchTermForm,r=e.onlyFriends,o=(0,z.TA)({initialValues:{term:"",friend:!1},onSubmit:function(e){n(e.term,e.friend)}});return(0,j.jsx)("form",{onSubmit:o.handleSubmit,children:(0,j.jsxs)("div",{className:T,children:[(0,j.jsx)(Z.Z,(0,k.Z)({type:"term",label:"name",margin:"normal",size:"small"},o.getFieldProps("term"))),(0,j.jsx)(y.Z,{disabled:""===o.values.term,type:"submit",variant:"outlined",color:"secondary",sx:{margin:"8px 0 0 5px"},children:"Search"}),(0,j.jsx)(y.Z,{type:"submit",variant:"outlined",color:"secondary",sx:{margin:"8px 0 0 5px"},onClick:function(){return r(null)},children:"All"}),(0,j.jsx)(y.Z,{type:"submit",variant:"outlined",color:"secondary",sx:{margin:"8px 0 0 5px"},onClick:function(){return r(!0)},children:"Friends"})]})})},V=function(e){var n=e.onClickUnfollow,r=e.onClickFollow,o=e.followingProgress,t=e.users,s=e.totalCountUser,i=e.setCurrentPage,l=e.pageSize,a=e.portionSize,u=e.currentPage,c=e.onSearchTermForm,p=e.onlyFriends;return(0,j.jsx)("section",{className:f,children:(0,j.jsxs)("div",{className:m,children:[(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("h2",{className:g,children:"Users"}),(0,j.jsx)(M,{onSearchTermForm:c,onlyFriends:p})]}),(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("div",{className:_,children:t.items.map((function(e){return(0,j.jsx)(N,{user:e,followingProgress:o,onClickFollow:r,onClickUnfollow:n},e.id)}))}),(0,j.jsx)(S,{currentPage:u,pageSize:l,totalItemsCount:s,setCurrentPage:i,portionSize:a})]})]})})},A=function(e){(0,s.Z)(r,e);var n=(0,i.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).setCurrentPage=function(n){e.props.setCurrentPage(n,e.props.pageSize,e.props.filterTerm)},e.follow=function(n){return e.props.follow(n)},e.unfollow=function(n){return e.props.unfollow(n)},e.onSearchTermForm=function(n,r){e.props.getUsers(1,e.props.pageSize,n,r)},e.onlyFriends=function(n){e.props.getUsers(1,e.props.pageSize,"",n)},e}return(0,t.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize,"",null)}},{key:"render",value:function(){return(0,j.jsx)(V,{onClickUnfollow:this.unfollow,onClickFollow:this.follow,setCurrentPage:this.setCurrentPage,totalCountUser:this.props.totalCountUser,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,followingProgress:this.props.followingProgress,portionSize:this.props.portionSize,onSearchTermForm:this.onSearchTermForm,onlyFriends:this.onlyFriends})}}]),r}(u.Component),R=(0,c.qC)((0,l.$j)((function(e){return{users:(0,p.YN)(e),pageSize:(0,p.Uq)(e),totalCountUser:(0,p.ZF)(e),currentPage:(0,p.IR)(e),followingProgress:(0,p.uz)(e),portionSize:(0,p.rD)(e),filterTerm:(0,p.LV)(e)}}),{follow:a.iR,unfollow:a.Ky,getUsers:a.Zw,setCurrentPage:a.jT,setFilter:a.t1}))(A)},8060:function(e,n,r){r.d(n,{YN:function(){return o},Tk:function(){return t},IR:function(){return s},Uq:function(){return i},ZF:function(){return l},uz:function(){return a},rD:function(){return u},LV:function(){return c}});var o=function(e){return e.users},t=function(e){return e.users.items},s=function(e){return e.users.page},i=function(e){return e.users.pageSize},l=function(e){return e.users.totalCountUser},a=function(e){return e.users.followingProgress},u=function(e){return e.users.portionSize},c=function(e){return e.users.filter.term}},7049:function(e,n){n.Z={container:"User_container__ophhA",root:"User_root__64YXv",userPhoto:"User_userPhoto__ONma-",name:"User_name__l8H4o",status:"User_status__u9nNl",buttonFollow:"User_buttonFollow__hfEp8",buttonUnfollow:"User_buttonUnfollow__609Zh"}},3168:function(e,n,r){e.exports=r.p+"static/media/userAvatar.8e7ab55da0bc52271ed8.jpg"}}]);
//# sourceMappingURL=529.17ef6da1.chunk.js.map